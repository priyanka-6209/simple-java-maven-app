pipeline {
agent any
 
tools{
maven 'maven3.6.0'
jdk 'java1.8.0'
}
 
stages {
stage ('build') {
 steps {
  sh "mvn -B -DskipTests clean package"
       }
}
     
stage('Test') {
          steps {
                sh "mvn test"
            }
 post{
  always{
  junit 'target/surfire-reports/*.xml'
  }
 }
}
 stage('Deploy'){
  steps{
  sh 'java -jar target/sample-app-1.0-SNAPSHOT.jar'
  }
 }
}
}
